const e={"SHA-1":{outputLength:20,blockSize:64},"SHA-256":{outputLength:32,blockSize:64},"SHA-384":{outputLength:48,blockSize:128},"SHA-512":{outputLength:64,blockSize:128}};function t(t,a,o,i,s="SHA-256"){return new Promise(((u,c)=>{s in e||c(new RangeError(`Valid hash algorithm values are any of ${Object.keys(e).toString()}`)),"string"==typeof t?t=(new TextEncoder).encode(t):t instanceof ArrayBuffer?t=new Uint8Array(t):ArrayBuffer.isView(t)||c(RangeError("P should be string, ArrayBuffer, TypedArray, DataView")),"string"==typeof a?a=(new TextEncoder).encode(a):a instanceof ArrayBuffer?a=new Uint8Array(a):ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):c(RangeError("S should be string, ArrayBuffer, TypedArray, DataView")),crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]).then((f=>{const y={name:"PBKDF2",hash:s,salt:a,iterations:o};crypto.subtle.deriveBits(y,f,8*i).then((e=>u(e)),(f=>{(async function(t,a,o,i,s){if(!(s in e))throw new RangeError(`Valid hash algorithm values are any of ${Object.keys(e).toString()}`);if(!Number.isInteger(o)||o<=0)throw new RangeError("c must be a positive integer");const u=e[s].outputLength;if(!Number.isInteger(i)||i<=0||i>=(2**32-1)*u)throw new RangeError("dkLen must be a positive integer < (2 ** 32 - 1) * hLen");const c=Math.ceil(i/u),f=i-(c-1)*u,y=new Array(c);0===t.byteLength&&(t=new Uint8Array(e[s].blockSize));const w=await crypto.subtle.importKey("raw",t,{name:"HMAC",hash:{name:s}},!0,["sign"]),g=async function(e,t){const r=await crypto.subtle.sign("HMAC",e,t);return new Uint8Array(r)};for(let e=0;e<c;e++)y[e]=await h(w,a,o,e+1);async function h(e,t,a,o){function i(e){const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const s=await g(e,r(t,i(o)));let u=s;for(let t=1;t<a;t++)u=await g(e,u),n(s,u);return s}return y[c-1]=y[c-1].slice(0,f),r(...y).buffer})(t,a,o,i,s).then((e=>u(e)),(e=>c(e)))}))}),(e=>c(e)))}))}function r(...e){const t=e.reduce(((e,t)=>e+t.length),0);if(0===e.length)throw new RangeError("Cannot concat no arrays");const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}function n(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r]}export{t as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYnJvd3Nlci5lc20uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy90cy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6bnVsbCwibmFtZXMiOlsiSEFTSEFMR1MiLCJvdXRwdXRMZW5ndGgiLCJibG9ja1NpemUiLCJwYmtkZjJIbWFjIiwiUCIsIlMiLCJjIiwiZGtMZW4iLCJoYXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJSYW5nZUVycm9yIiwiT2JqZWN0Iiwia2V5cyIsInRvU3RyaW5nIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJpc1ZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNyeXB0byIsInN1YnRsZSIsImltcG9ydEtleSIsInRoZW4iLCJQS2V5IiwicGFyYW1zIiwibmFtZSIsInNhbHQiLCJpdGVyYXRpb25zIiwiZGVyaXZlQml0cyIsImRlcml2ZWRLZXkiLCJlcnIiLCJhc3luYyIsIk51bWJlciIsImlzSW50ZWdlciIsImhMZW4iLCJsIiwiTWF0aCIsImNlaWwiLCJyIiwiVCIsIkFycmF5IiwiUGtleSIsIkhNQUMiLCJrZXkiLCJhcnIiLCJobWFjIiwic2lnbiIsImkiLCJGIiwiSU5UIiwiYnVmIiwiRGF0YVZpZXciLCJzZXRVaW50MzIiLCJVYWNjIiwiY29uY2F0IiwiVWpNaW51czEiLCJqIiwieG9yTWUiLCJzbGljZSIsIl9wYmtkZjIiLCJlcnJvciIsImFycnMiLCJ0b3RhbExlbmd0aCIsInJlZHVjZSIsImFjYyIsInZhbHVlIiwibGVuZ3RoIiwicmVzdWx0IiwiYXJyYXkiLCJzZXQiLCJhcnIxIiwiYXJyMiJdLCJtYXBwaW5ncyI6IkFBb0JBLE1BQU1BLEVBQXFCLENBQ3pCLFFBQVMsQ0FBRUMsYUFBYyxHQUFJQyxVQUFXLElBQ3hDLFVBQVcsQ0FBRUQsYUFBYyxHQUFJQyxVQUFXLElBQzFDLFVBQVcsQ0FBRUQsYUFBYyxHQUFJQyxVQUFXLEtB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
